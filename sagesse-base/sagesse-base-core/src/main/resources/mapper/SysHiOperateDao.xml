<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.edu.sagesse.base.core.dao.SysHiOperateDao">
    <resultMap id="SysHiOperateResultMap" type="org.edu.sagesse.base.core.domain.entity.SysHiOperate">
        <!--@Table sys_hi_operate-->
        <result property="id" column="id" jdbcType="INTEGER"/>
        <result property="accessUrl" column="access_url" jdbcType="VARCHAR"/>
        <result property="accessServer" column="access_server" jdbcType="VARCHAR"/>
        <result property="operateUserId" column="operate_user_id" jdbcType="INTEGER"/>
        <result property="operateUserAccount" column="operate_user_account" jdbcType="VARCHAR"/>
        <result property="timeConsuming" column="time_consuming" jdbcType="INTEGER"/>
        <result property="accessType" column="access_type" jdbcType="INTEGER"/>
        <result property="requestParam" column="request_param" jdbcType="VARCHAR"/>
        <result property="requestResult" column="request_result" jdbcType="VARCHAR"/>
        <result property="errorCode" column="error_code" jdbcType="INTEGER"/>
        <result property="errorMessage" column="error_message" jdbcType="VARCHAR"/>
        <result property="accessResult" column="access_result" jdbcType="INTEGER"/>
        <result property="remark" column="remark" jdbcType="VARCHAR"/>
        <result property="gmtCreate" column="gmt_create" jdbcType="TIMESTAMP"/>
    </resultMap>
    <sql id="sys_hi_operate_columns">
        <!--@sql select -->
        sho.id,
        sho.access_url,
        sho.access_server,
        sho.operate_user_id,
        sho.operate_user_account,
        sho.time_consuming,
        sho.access_type,
        sho.request_param,
        sho.request_result,
        sho.error_code,
        sho.error_message,
        sho.access_result,
        sho.remark,
        sho.gmt_create
        <!--@sql from sys_hi_operate sho-->
    </sql>

    <!-- 根据主键以及数据状态查询唯一数据 -->
    <select id="find" resultMap="SysHiOperateResultMap">
        select
        <include refid="sys_hi_operate_columns"/>
        from sys_hi_operate sho
        where sho.id = #{id, jdbcType=BIGINT}
    </select>

    <!-- 根据条件查询唯一数据 -->
    <select id="findByParam" resultMap="SysHiOperateResultMap">
        select
        <include refid="sys_hi_operate_columns"/>
        from sys_hi_operate sho
        <where>
            <if test="queryParam.id != null">
                sho.id = #{queryParam.id, jdbcType=BIGINT}
            </if>
            <if test="queryParam.accessUrl != null and queryParam.accessUrl != ''">
                and sho.access_url = #{queryParam.accessUrl, jdbcType=VARCHAR}
            </if>
            <if test="queryParam.accessServer != null and queryParam.accessServer != ''">
                and sho.access_server = #{queryParam.accessServer, jdbcType=VARCHAR}
            </if>
            <if test="queryParam.operateUserId != null">
                and sho.operate_user_id = #{queryParam.operateUserId, jdbcType=BIGINT}
            </if>
            <if test="queryParam.operateUserAccount != null and queryParam.operateUserAccount != ''">
                and sho.operate_user_account = #{queryParam.operateUserAccount, jdbcType=VARCHAR}
            </if>
            <if test="queryParam.timeConsuming != null">
                and sho.time_consuming = #{queryParam.timeConsuming, jdbcType=BIGINT}
            </if>
            <if test="queryParam.accessType != null">
                and sho.access_type = #{queryParam.accessType, jdbcType=INTEGER}
            </if>
            <if test="queryParam.requestParam != null and queryParam.requestParam != ''">
                and sho.request_param = #{queryParam.requestParam, jdbcType=VARCHAR}
            </if>
            <if test="queryParam.requestResult != null and queryParam.requestResult != ''">
                and sho.request_result = #{queryParam.requestResult, jdbcType=VARCHAR}
            </if>
            <if test="queryParam.errorCode != null">
                and sho.error_code = #{queryParam.errorCode, jdbcType=INTEGER}
            </if>
            <if test="queryParam.errorMessage != null and queryParam.errorMessage != ''">
                and sho.error_message = #{queryParam.errorMessage, jdbcType=VARCHAR}
            </if>
            <if test="queryParam.accessResult != null">
                and sho.access_result = #{queryParam.accessResult, jdbcType=INTEGER}
            </if>
            <if test="queryParam.remark != null and queryParam.remark != ''">
                and sho.remark = #{queryParam.remark, jdbcType=VARCHAR}
            </if>
            <if test="queryParam.gmtCreate != null">
                and sho.gmt_create = #{queryParam.gmtCreate, jdbcType=TIMESTAMP}
            </if>
        </where>
        limit 1
    </select>

    <!-- 根据条件查询数据 -->
    <select id="list" resultMap="SysHiOperateResultMap">
        select
        <include refid="sys_hi_operate_columns"/>
        from sys_hi_operate sho
        <where>
            <if test="queryParam.id != null">
                sho.id = #{queryParam.id, jdbcType=BIGINT}
            </if>
            <if test="queryParam.accessUrl != null and queryParam.accessUrl != ''">
                and sho.access_url = #{queryParam.accessUrl, jdbcType=VARCHAR}
            </if>
            <if test="queryParam.accessServer != null and queryParam.accessServer != ''">
                and sho.access_server = #{queryParam.accessServer, jdbcType=VARCHAR}
            </if>
            <if test="queryParam.operateUserId != null">
                and sho.operate_user_id = #{queryParam.operateUserId, jdbcType=BIGINT}
            </if>
            <if test="queryParam.operateUserAccount != null and queryParam.operateUserAccount != ''">
                and sho.operate_user_account = #{queryParam.operateUserAccount, jdbcType=VARCHAR}
            </if>
            <if test="queryParam.timeConsuming != null">
                and sho.time_consuming = #{queryParam.timeConsuming, jdbcType=BIGINT}
            </if>
            <if test="queryParam.accessType != null">
                and sho.access_type = #{queryParam.accessType, jdbcType=INTEGER}
            </if>
            <if test="queryParam.requestParam != null and queryParam.requestParam != ''">
                and sho.request_param = #{queryParam.requestParam, jdbcType=VARCHAR}
            </if>
            <if test="queryParam.requestResult != null and queryParam.requestResult != ''">
                and sho.request_result = #{queryParam.requestResult, jdbcType=VARCHAR}
            </if>
            <if test="queryParam.errorCode != null">
                and sho.error_code = #{queryParam.errorCode, jdbcType=INTEGER}
            </if>
            <if test="queryParam.errorMessage != null and queryParam.errorMessage != ''">
                and sho.error_message = #{queryParam.errorMessage, jdbcType=VARCHAR}
            </if>
            <if test="queryParam.accessResult != null">
                and sho.access_result = #{queryParam.accessResult, jdbcType=INTEGER}
            </if>
            <if test="queryParam.remark != null and queryParam.remark != ''">
                and sho.remark = #{queryParam.remark, jdbcType=VARCHAR}
            </if>
            <if test="queryParam.gmtCreate != null">
                and sho.gmt_create = #{queryParam.gmtCreate, jdbcType=TIMESTAMP}
            </if>
        </where>
    </select>

    <!-- 新增数据 -->
    <insert id="create">
        insert into sys_hi_operate(id, access_url, access_server, operate_user_id, operate_user_account, time_consuming,
        access_type, request_param, request_result, error_code, error_message, access_result, remark, gmt_create)
        values (#{id, jdbcType=BIGINT}, #{accessUrl, jdbcType=VARCHAR}, #{accessServer, jdbcType=VARCHAR},
        #{operateUserId, jdbcType=BIGINT}, #{operateUserAccount, jdbcType=VARCHAR}, #{timeConsuming, jdbcType=BIGINT},
        #{accessType, jdbcType=INTEGER}, #{requestParam, jdbcType=VARCHAR}, #{requestResult, jdbcType=VARCHAR},
        #{errorCode, jdbcType=INTEGER}, #{errorMessage, jdbcType=VARCHAR}, #{accessResult, jdbcType=INTEGER},
        #{remark, jdbcType=VARCHAR}, #{gmtCreate, jdbcType=TIMESTAMP})
    </insert>

    <!-- 批量新增数据 -->
    <insert id="createBatch">
        insert into sys_hi_operate(id, access_url, access_server, operate_user_id, operate_user_account, time_consuming,
        access_type, request_param, request_result, error_code, error_message, access_result, remark, gmt_create) values
        <foreach collection="list" item="item" separator=",">
            (#{item.id, jdbcType=BIGINT}, #{item.accessUrl, jdbcType=VARCHAR}, #{item.accessServer, jdbcType=VARCHAR},
            #{item.operateUserId, jdbcType=BIGINT}, #{item.operateUserAccount, jdbcType=VARCHAR},
            #{item.timeConsuming, jdbcType=BIGINT}, #{item.accessType, jdbcType=INTEGER},
            #{item.requestParam, jdbcType=VARCHAR}, #{item.requestResult, jdbcType=VARCHAR},
            #{item.errorCode, jdbcType=INTEGER}, #{item.errorMessage, jdbcType=VARCHAR},
            #{item.accessResult, jdbcType=INTEGER}, #{item.remark, jdbcType=VARCHAR},
            #{item.gmtCreate, jdbcType=TIMESTAMP})
        </foreach>
    </insert>

    <!-- 根据主键更新数据 -->
    <update id="update">
        update sys_hi_operate
        <set>
            <if test="accessUrl != null and accessUrl != ''">
                access_url = #{accessUrl},
            </if>
            <if test="accessServer != null and accessServer != ''">
                access_server = #{accessServer},
            </if>
            <if test="operateUserId != null">
                operate_user_id = #{operateUserId},
            </if>
            <if test="operateUserAccount != null and operateUserAccount != ''">
                operate_user_account = #{operateUserAccount},
            </if>
            <if test="timeConsuming != null">
                time_consuming = #{timeConsuming},
            </if>
            <if test="accessType != null">
                access_type = #{accessType},
            </if>
            <if test="requestParam != null and requestParam != ''">
                request_param = #{requestParam},
            </if>
            <if test="requestResult != null and requestResult != ''">
                request_result = #{requestResult},
            </if>
            <if test="errorCode != null">
                error_code = #{errorCode},
            </if>
            <if test="errorMessage != null and errorMessage != ''">
                error_message = #{errorMessage},
            </if>
            <if test="accessResult != null">
                access_result = #{accessResult},
            </if>
            <if test="remark != null and remark != ''">
                remark = #{remark},
            </if>
            <if test="gmtCreate != null">
                gmt_create = #{gmtCreate},
            </if>
        </set>
        where id = #{id, jdbcType=BIGINT}
    </update>

    <!-- 根据主键物理删除数据 -->
    <delete id="deletePhysic">
        delete from sys_hi_operate where id = #{id, jdbcType=BIGINT}
    </delete>
</mapper>

